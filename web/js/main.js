"use strict";!function(s){var n=s("#accent .counter"),t=s(".accordion"),i=s("body"),a=s("[data-block-toggle]"),o=s(".btn-tooltip"),e=s("[data-btn-filter-not-active]"),l=s(".chart"),r=s(".chat"),c=r.find(".chat__body"),d=s(".card-body.overflow-y-auto"),h=s(".counter"),f=s('[data-fancybox="gallery"]'),u=s(".form-control-file"),p=s(".input-nao__field"),g=s("[data-inputmask-tel]"),m=s("[data-inputmask-bDay]"),v=s("[data-inputmask-email]"),b=s("[data-input-for-block-toggle]"),C=s(".letter-icon"),k=s("[data-radio-hide]"),w=s("[data-radio-like]"),x=s(".js-range-slider"),_=s(".js-range-slider-single"),y=s(".js-range-slider-single-link"),S=s(".js-range-slider-single-input"),T=s(".js-range-slider-input-start"),D=s(".js-range-slider-input-end"),F=s("#range-calendar"),M=s("[data-rating]"),H=s("[data-rating-output]"),I=s(".sec-main"),L=s(".select"),j=s(".slider-for"),O=s(".slider-nav"),A=s(".slider-order"),B=s(".sticky"),R=s("[data-sticky-breadcrumbs]"),W=s("[data-sticky-tab-bar]"),P=s(".switch.switch-sm"),z=s("[data-switcher-nav-input]"),U=s("[data-switcher-input-toggle]"),E=s("[data-timer-display]"),N=s(".tooltip"),Y='<svg version="1.1" id="Слой_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                viewBox="0 0 512 491.5" style="enable-background:new 0 0 512 491.5;" xml:space="preserve">\n                <path class="st0" d="M268.1,9.4l65.1,154.1L500,177.9c11.6,1,16.3,15.4,7.5,23L381,310.5l37.9,163c2.6,11.3-9.6,20.2-19.6,14.2\n                \t\t\tL256,401.3l-143.3,86.4c-10,6-22.2-2.9-19.6-14.2l37.9-163L4.5,200.9c-8.8-7.6-4.1-22,7.5-23l166.7-14.3L243.9,9.4\n                \t\t\tC248.4-1.3,263.6-1.3,268.1,9.4L268.1,9.4z"/></svg>';if(s(window).on("load",function(){s(".preloader").removeClass("loading"),p.each(function(t,e){""!==s(e).val()?s(e).addClass("input-nao__filled"):s(e).removeClass("input-nao__filled")}),s("input").attr("autocomplete","false"),s("form").attr("autocomplete","off")}),s(window).on("scroll",function(t){var e=s(window).scrollTop();B.length&&(0<e?B.addClass("fixed"):B.removeClass("fixed"))}),d.length){n.find(".counter__circle-value");var Q,Z=n.find(".counter__output"),$=parseInt(d.css("padding-top")),q=parseInt(d.css("padding-Bottom")),G=d.find(".container").prop("clientHeight")-d.prop("clientHeight")+$+q,J=0;d.on("scroll",function(t){var e=d.scrollTop();((Q=+(Q=e/G*100).toFixed(0))===J||J<Q)&&(J=Q,Z.text(J)),G<=e&&(a.find("button").removeAttr("disabled"),s(".tick").removeClass("tick-hidden"))})}if(I.length){s.scrollAnimate=function(t,e){var n=s.extend({scrollDown:function(){},scrollUp:function(){}},t),i=0,a=e.prop("scrollHeight")-e.prop("scrollTop")-e.prop("clientHeight")-8;e.on("scroll",function(){var t=s(this).scrollTop();0===t?n.scrollUp():a<=t&&a?n.scrollDown():i<t&&t-i<5?n.scrollDown():t<i&&t-i<-5&&n.scrollUp(),i=t})};var K=kt(function(){xt(W,"sticky-tab-bar"),xt(R,"sticky-breadcrumbs")},2e3),V=kt(function(){_t(W,"sticky-tab-bar"),_t(R,"sticky-breadcrumbs")},2e3);s.scrollAnimate({scrollDown:K,scrollUp:V},I)}if(r.length){var X=c.find(".container").prop("clientHeight");c.scrollTop(X)}if(e.length){var tt=s(".list-item-not-active"),et="Посмотреть новые",nt="Посмотреть все";e.on("click",function(){var t=s(this);t.hasClass("toggle")?(tt.fadeIn(),t.removeClass("toggle").find("[data-text-toggle]").text(et)):(tt.fadeOut(),t.addClass("toggle").find("[data-text-toggle]").text(nt))})}if(g.length&&g.inputmask({mask:"+7 (999) 999-99-99"}),v.length&&v.inputmask({mask:"*{1,20}@*{1,20}[.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(t){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",casing:"lower"}}}),m.length&&m.inputmask({alias:"datetime",inputFormat:"dd/mm/yyyy"}),z.length&&U.length&&z.on("change",function(){var i=s(this),a=i.data("switcher-nav-input");U.each(function(t,e){var n=s(e).data("switcher-input-toggle");i.is(":checked")?a===n&&s(e).removeAttr("disabled"):a===n&&s(e).attr("disabled","disabled")})}),N.length&&o.length){var it=function(t){t.next(".tooltip").hasClass("open")?N.removeClass("open"):(N.removeClass("open"),t.next(".tooltip").addClass("open"),t.next(".tooltip-fade")&&setTimeout(function(){t.next(".tooltip-fade").removeClass("open")},4e3))};o.on("click",function(t){var e=s(this),n=s(t.target);if("a"===this.tagName.toLowerCase()&&t.preventDefault(),n.hasClass("btn-tooltip"))it(e);else for(;n!==e;){if(n.hasClass("btn-tooltip"))return it(e),!1;n=n.parent()}}),s(document).on("click",function(n){N.hasClass("open")&&N.each(function(t,e){s(e).is(n.target)||0!==N.has(n.target).length||0!==o.has(n.target).length||o.is(n.target)||s(e).removeClass("open")})})}if(f.length&&f.fancybox({opacity:!0,loop:!1}),k.length&&k.on("click",function(){s(this).closest(".list-item").fadeOut(function(){s(this).remove()})}),w.length&&w.on("click",function(t){var e=s(this).closest(".list-item");s(this).toggleClass("active"),M.length&&M.rateYo({rating:0,starWidth:"32px",normalFill:"#bab2bf",ratedFill:"#5e3080",spacing:"0",numStars:5,precision:0,starSvg:Y,onInit:function(){},onSet:function(t){console.log("event onSet: rating",t),e.fadeOut(function(){s(this).remove()})},onChange:function(){}})}),H.length&&H.rateYo({rating:3.3,starWidth:"24px",normalFill:"#bab2bf",ratedFill:"#5e3080",spacing:"0",numStars:5,precision:1,starSvg:Y,onInit:function(){},onSet:function(t){console.log("event onSet: rating",t)},onChange:function(){}}),h.length&&h.each(function(t,e){var n=s(e).find(".counter__circle-value");setTimeout(function(){n.attr("stroke-dashoffset",0)},500),s(e).find(".counter__output").each(function(){s(this).prop("Counter",0).animate({Counter:s(this).text()},{duration:1500,easing:"swing",step:function(t){s(this).text(Math.ceil(t))}})})}),Ct.length&&Ct(),F.length){var at=moment(),ot=moment().add("months",12);F.rangeCalendar({lang:"ru",theme:"default-theme",themeContext:this,startDate:at,endDate:ot,start:"+7",startRangeWidth:1,minRangeWidth:1,maxRangeWidth:1,weekends:!0,autoHideMonths:!1,visible:!0,trigger:"click",changeRangeCallback:function(t,e){return console.log("target: ",t,"range: ",e),!1}})}if(x.length&&x.ionRangeSlider({type:"double",min:0,max:24,from:13,to:18,step:1,postfix:".00",skin:"round",hide_min_max:!0,hide_min_to:!0,onFinish:function(t){var e=T,n=D,i=t.from,a=t.to;i<10?e.text("0"+i+".00"):e.text(i+".00"),a<10?n.text("0"+a+".00"):n.text(a+".00")}}),_.length&&(_.ionRangeSlider({min:0,max:24,from:13,step:1,postfix:".00",skin:"round",hide_min_max:!0,hide_min_to:!0,onChange:function(t){var e=s(".js-range-slider-single-input.active"),n=t.from;n<10?e.text("0"+n+".00"):e.text(n+".00")}}),S.hasClass("active")||S.first().addClass("active"),y.on("click",function(t){t.preventDefault(),S.removeClass("active"),s(this).find(".js-range-slider-single-input").addClass("active")})),p.length&&p.on("focus blur input",function(){""!==s(this).val()?s(this).addClass("input-nao__filled"):s(this).removeClass("input-nao__filled")}),a.length&&b.length&&!u.length&&b.on("input",function(){0<s(".input-nao__field").filter(function(){return""!==s(this).val()&&"0"!==s(this).val()}).length?a.find("button[type=submit]").removeAttr("disabled"):a.find("button[type=submit]").attr("disabled","disabled")}),a.length&&b.length&&u.length&&b.on("input",function(){var t=s(".input-nao__field").filter(function(){return""!==s(this).val()&&"0"!==s(this).val()}),e=u.find(".form-control-file__item");0<t.length&&e.length?a.find("button[type=submit]").removeAttr("disabled"):a.find("button[type=submit]").attr("disabled","disabled")}),l.length&&Highcharts.chart("chart",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",margin:[0,0,0,0],spacing:[0,0,0,0]},title:{text:""},tooltip:{padding:4,distance:24,pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,animation:{duration:500},slicedOffset:4},series:{states:{inactive:{opacity:1},hover:{enabled:!0,halo:{opacity:.5,size:4}},select:{enabled:!0,halo:{opacity:.5,size:4}}}}},credits:{enabled:!1},series:[{name:"Brands",colorByPoint:!0,data:[{name:"Chrome",y:61.41,sliced:!1,selected:!1},{name:"Internet Explorer",y:11.84},{name:"Firefox",y:10.85},{name:"Edge",y:4.67},{name:"Safari",y:4.18},{name:"Other",y:7.05}]}]}),P.length){var st=P.find("input[type=checkbox]"),lt=st.prop("checked"),rt=s("#counters");lt&&wt(rt,"show"),st.on("change",function(){lt=st.prop("checked"),wt(rt,lt?"show":"hide")})}function ct(t,e,n){t.find(e).each(function(t,e){s(e).addClass(n)})}function dt(t,e,n){t.find(e).each(function(t,e){s(e).removeClass(n)})}function ht(t,e){ct(s(this).find(".slick-slide.slick-active"),"[data-aos^=fade]","aos-animate")}function ft(t,e,n){var i=s(this).find(".slick-slide.slick-active"),a=i.next(),o=i.prev();dt(a,"[data-aos^=fade]","aos-animate"),dt(o,"[data-aos^=fade]","aos-animate")}function ut(t,e,n,i){dt(s(this).find(".slick-slide"),"[data-aos^=fade]","aos-animate")}function pt(t,e,n){ct(s(this).find(".slick-slide.slick-active"),"[data-aos^=fade]","aos-animate")}if(L&&L.on("click",".select__placeholder",function(){var t=s(this).closest(".select");t.hasClass("is-open")?t.removeClass("is-open"):(t.addClass("is-open"),s(".select.is-open").not(t).removeClass("is-open"))}).on("click",".select__list > li",function(){var t=s(this).closest(".select"),e=s(this);t.removeClass("is-open").find(".select__placeholder").text(s(this).text()),s(".select__list > li").removeClass("selected"),e.addClass("selected")}),A.length&&(A.on("init",ht),A.slick({adaptiveHeight:!0,arrows:!1,centerMode:!1,dots:!1,focusOnSelect:!0,swipe:!0,swipeToSlide:!0,infinite:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}).on("swipe",ft).on("beforeChange",ut).on("afterChange",pt)),j.length&&O.length&&(j.on("init",ht),j.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,asNavFor:".slider-nav",adaptiveHeight:!1,infinite:!0}).on("swipe",ft).on("beforeChange",ut).on("afterChange",pt),O.slick({adaptiveHeight:!1,arrows:!1,centerMode:!1,dots:!1,focusOnSelect:!0,swipe:!0,swipeToSlide:!0,infinite:!0,centerPadding:"40px",slidesToShow:5,slidesToScroll:1,asNavFor:".slider-for",responsive:[{breakpoint:414,settings:{slidesToShow:4}},{breakpoint:374,settings:{slidesToShow:3}}]})),E.length){var gt=bt,mt=bt,vt=bt;gt(s('[data-timer-display="1"]'),1,gt),mt(s('[data-timer-display="2"]'),120,mt),vt(s('[data-timer-display="3"]'),73,vt)}function bt(o,t,n){function i(t){var e=(Math.floor(t/3600)<10?"0":"")+Math.floor(t/3600),n=(Math.floor(t/60)%60<10?"0":"")+Math.floor(t/60)%60,i=t%60,a="".concat(e,":").concat(n,":").concat(i<10?"0":"").concat(i);o.text(a)}!function(t){clearInterval(n);var e=Date.now()+1e3*t;i(t),n=setInterval(function(){var t=Math.round((e-Date.now())/1e3);t<0?clearInterval(n):i(t)},1e3)}(60*t)}function Ct(){var t=n.find(".counter__circle-value"),e=n.find(".counter__output");setTimeout(function(){t.attr("stroke-dashoffset",0)},500),e.prop("Counter",0).animate({Counter:s(this).text()},{duration:1500,easing:"swing",step:function(t){s(this).text(Math.ceil(t))}})}function kt(t,e){var n=!1;return function(){n||(t.apply(this,arguments),n=!0,setTimeout(function(){return n=!1},e))}}function wt(t,e,n){t.animate({opacity:e,height:e},{duration:n||500,specialEasing:{opacity:"linear",height:"swing"}})}function xt(t,e){t.length&&i.addClass(e)}function _t(t,e){t.length&&i.removeClass(e)}t.length&&(t.addClass("hidden").find(".accordion__body").hide(),t.on("click",".accordion__header",function(){var t=s(this).closest(".accordion"),e=t.find(".accordion__body");t.hasClass("hidden")?(t.removeClass("hidden"),wt(e,"show",250)):(t.addClass("hidden"),wt(e,"hide",250))})),C.length&&C.on("click",function(){var t=s(this);t.hasClass("opened")||t.addClass("opened")}),svg4everybody()}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsIiRhY2NlbnQiLCIkYWNjb3JkaW9uIiwiJGJvZHkiLCIkYmxvY2tUb2dnbGUiLCIkYnRuVG9vbHRpcCIsIiRidG5GaWx0ZXJOb3RBY3RpdmUiLCIkY2hhcnQiLCIkY2hhdCIsImZpbmQiLCIkY2hhdEJvZHkiLCIkY2FyZEJvZHlXaXRoU2Nyb2xsIiwiJGNvdW50ZXJzIiwiJGZhbmN5Ym94IiwiJGZvcm1Db250cm9sRmlsZSIsIiRpbnB1dE5hbyIsIiRpbnB1dE1hc2tUZWwiLCIkaW5wdXRNYXNrQkRheSIsIiRpbnB1dE1hc2tFbWFpbCIsIiRpbnB1dEZvckJsb2NrVG9nZ2xlIiwiJGxldHRlcnMiLCIkcmFkaW9IaWRlIiwiJHJhZGlvTGlrZSIsIiRyYW5nZVNsaWRlciIsIiRyYW5nZVNsaWRlclNpbmdsZSIsIiRyYW5nZVNsaWRlclNpbmdsZUxpbmsiLCIkcmFuZ2VTbGlkZXJTaW5nbGVJbnB1dCIsIiRyYW5nZVNsaWRlcklucHV0U3RhcnQiLCIkcmFuZ2VTbGlkZXJJbnB1dEVuZCIsIiRyYW5nZUNhbGVuZGFyIiwiJHJhdGluZyIsIiRyYXRpbmdPdXRwdXQiLCIkc2VjTWFpbiIsIiRzZWxlY3QiLCIkc2xpY2tGb3IiLCIkc2xpY2tOYXYiLCIkc2xpY2tPcmRlciIsIiRzdGlja3kiLCIkc3RpY2t5QnJlYWRjcnVtYnMiLCIkc3RpY2t5VGFiQmFyIiwiJHN3aXRjaCIsIiRzd2l0Y2hlck5hdklucHV0IiwiJHN3aXRjaGVySW5wdXRUb2dnbGUiLCIkdGltZXIiLCJ0ZW1wbGF0ZVN0YXIiLCJwZXJjZW50IiwiaW5wdXROYW8iLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImluZGV4IiwidmFsIiwic2Nyb2xsVG9wIiwid2luZG93Iiwib24iLCJldmVudCIsInNjcm9sbCIsInBhZGRpbmdCb3R0b20iLCJwYXJzZUludCIsInNjcm9sbEhlaWdodCIsInRvRml4ZWQiLCJ2YWx1ZSIsInN0YXJ0IiwiY3NzIiwicHJvcCIsInBhZGRpbmdUb3AiLCJsZW5ndGgiLCJ0ZXh0IiwiaXNTY3JvbGxIZWlnaHQiLCJzY3JvbGxKcXVlcnlFbGVtIiwicmVtb3ZlQXR0ciIsImN1cnNvclBvc2l0aW9uIiwic2V0dGluZ3MiLCJzY3JvbGxEb3duIiwib3B0aW9ucyIsInNjcm9sbFBvc2l0aW9uIiwic2Nyb2xsVXAiLCJoYW5kbGVTY3JvbGxVcCIsImFkZENsYXNzVG9Cb2R5IiwidGhpcyIsInJlbW92ZUNsYXNzRnJvbUJvZHkiLCJoYW5kbGVTY3JvbGxEb3duIiwiZGVib3VuY2UiLCJlbGVtZW50c0ZvclRvZ2dsZSIsInNjcm9sbEFuaW1hdGUiLCJzZWxmIiwiY29udGV4dEJ0biIsImlucHV0bWFzayIsIm9uQmVmb3JlUGFzdGUiLCJoYXNDbGFzcyIsInBhc3RlZFZhbHVlIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZGVmaW5pdGlvbnMiLCJmYWRlT3V0IiwibWFzayIsInZhbElucHV0IiwiaW5wdXQiLCIqIiwidmFsaWRhdG9yIiwiY2FzaW5nIiwiYWxpYXMiLCJpbnB1dEZvcm1hdCIsInRvZ2dsZVRvb2x0aXAiLCIkdG9vbHRpcCIsImRhdGEiLCJjdXJyZW50IiwiaXMiLCJvcGFjaXR5IiwibmV4dCIsImNsb3Nlc3QiLCJlIiwidGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJwYXJlbnQiLCJ0b2dnbGVDbGFzcyIsImVhY2giLCJ0b29sdGlwIiwiaGFzIiwib25TZXQiLCJmYW5jeWJveCIsImNvbnNvbGUiLCJsb2ciLCIkY2xvc2VzdCIsIm9uQ2hhbmdlIiwicmVtb3ZlIiwic3RhcldpZHRoIiwibm9ybWFsRmlsbCIsInJhdGVkRmlsbCIsInNwYWNpbmciLCJyYXRlWW8iLCJyYXRpbmciLCJudW1TdGFycyIsInByZWNpc2lvbiIsInN0YXJTdmciLCJvbkluaXQiLCJsYW5nIiwidGhlbWVDb250ZXh0Iiwic3RhcnREYXRlIiwiY3VycmVudERhdGUiLCJlbmREYXRlIiwic3RhcnRSYW5nZVdpZHRoIiwibWluUmFuZ2VXaWR0aCIsIm1heFJhbmdlV2lkdGgiLCJ3ZWVrZW5kcyIsImF1dG9IaWRlTW9udGhzIiwidmlzaWJsZSIsImlvblJhbmdlU2xpZGVyIiwic3RlcCIsImVsZW0iLCJjbGFzc05hbWUiLCJzZXRUaW1lb3V0IiwiY2lyY2xlIiwiYW5pbWF0ZSIsIkNvdW50ZXIiLCJkdXJhdGlvbiIsImVhc2luZyIsIm5vdyIsIk1hdGgiLCJjZWlsIiwiaGlkZV9taW5fdG8iLCJvbkZpbmlzaCIsInRvIiwibW9tZW50IiwiYWRkIiwiJGlucHV0U3RhcnQiLCIkaW5wdXRFbmQiLCJ0cmlnZ2VyIiwiZnJvbSIsInJhbmdlIiwicG9zdGZpeCIsInN3aXBlVG9TbGlkZSIsIiRpbnB1dCIsIm1heCIsInNraW4iLCJoaWRlX21pbl9tYXgiLCJlbHMiLCJmaXJzdCIsIkhpZ2hjaGFydHMiLCJ0eXBlIiwibWFyZ2luIiwicGxvdE9wdGlvbnMiLCJhbGxvd1BvaW50U2VsZWN0IiwiZmlsdGVyIiwic2hvd0luTGVnZW5kIiwic3RhdGVzIiwiaW5hY3RpdmUiLCJob3ZlciIsImVsc0ZpbGUiLCJlbmFibGVkIiwiY2hhcnQiLCJwbG90QmFja2dyb3VuZENvbG9yIiwicGxvdEJvcmRlcldpZHRoIiwicGxvdFNoYWRvdyIsInRpdGxlIiwic2xpY2VkIiwic2VsZWN0ZWQiLCJkaXN0YW5jZSIsInBvaW50Rm9ybWF0IiwicGllIiwiY3Vyc29yIiwiZGF0YUxhYmVscyIsImFuaW1hdGlvbiIsInNsaWNlZE9mZnNldCIsInNlcmllcyIsInN3aXRjaElucHV0IiwiaGFsbyIsInNpemUiLCJzZWxlY3QiLCJjcmVkaXRzIiwibmFtZSIsImNvbG9yQnlQb2ludCIsInkiLCJzbGljayIsImluZmluaXRlIiwiY2VudGVyUGFkZGluZyIsInNsaWRlc1RvU2hvdyIsImlzQ2hlY2tlZCIsInRvZ2dsZUFuaW1hdGUiLCJoYW5kbGVTbGlja0ZvckluaXQiLCJzbGlkZXNUb1Njcm9sbCIsImFkZENsYXNzSW5BcnJFbGVtZW50cyIsIndyYXAiLCJpbm5lckVsZW0iLCJuZXdDbGFzcyIsInJlbW92ZUNsYXNzSW5BcnJFbGVtZW50cyIsIm9sZENsYXNzIiwic3ZnNGV2ZXJ5Ym9keSIsInRpbWVyIiwiaW50ZXJ2YWxJZCIsImRpcmVjdGlvbiIsInNlY29uZHNMZWZ0Iiwicm91bmQiLCJwcmV2IiwiZGlzcGxheVRpbWVMZWZ0IiwiY3VycmVudFNsaWRlIiwibmV4dFNsaWRlIiwibWludXRlcyIsInJlbWFpbmRlclNlY29uZHMiLCJzZWNvbmRzIiwiYXJyb3dzIiwiY2VudGVyTW9kZSIsIm5vdCIsImFzTmF2Rm9yIiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJkb3RzIiwiZm9jdXNPblNlbGVjdCIsInNsaWRlQWN0aXZlIiwiaGFuZGxlU2xpY2tGb3JTd2lwZSIsImhhbmRsZVNsaWNrRm9yQWZ0ZXJDaGFuZ2UiLCJoYW5kbGVTbGlja0ZvckJlZm9yZUNoYW5nZSIsImFsbFNsaWRlcyIsImFkYXB0aXZlSGVpZ2h0IiwidGltZXIxIiwibWFrZUNvdW50ZXIiLCJ0aW1lcjIiLCJ0aW1lcjMiLCJzd2lwZSIsInN0YXJ0VGltZXIiLCJ0aW1lIiwiaGVpZ2h0IiwiaG91cnMiLCJmbG9vciIsImRpc3BsYXkiLCJjb25jYXQiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwibXMiLCJjbGVhckludGVydmFsIiwiYXBwbHkiLCJ0aGVuIiwiYXJndW1lbnRzIiwic2V0SW50ZXJ2YWwiLCJEYXRlIiwicGFyYW0iLCJhY2NlbnQiLCIkY2lyY2xlIiwiJHZhbHVlIiwiZiIsImlzQ29vbERvd24iLCJzcGVlZCIsInNwZWNpYWxFYXNpbmciLCJoaWRlIiwiJGFjY0JvZHkiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJjQVNBLFNBQUFBLEdBQUUsSUFBQUMsRUFBYUQsRUFBQSxvQkFFTEMsRUFBWUQsRUFBQSxjQUNaRSxFQUFVRixFQUFJLFFBQ2RHLEVBQU5ILEVBQUEsdUJBQ01JLEVBQWlCSixFQUFBLGdCQUNqQkssRUFBZ0JMLEVBQUEsZ0NBQ2hCTSxFQUFBQSxFQUFBQSxVQUNBQyxFQUFX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QyxHQUMzQkQsRUFBS25GLFFBQ0wvRCxFQUFNNkMsWUFBWXNHLEdBekZ0QjFJLEVBQWVzRCxTQUNYaEUsRUFBZUYsU0FBUVMsVUFBS0EsS0FBQSxvQkFBNUJrUixPQUdJbkksRUFBQWxHLEdBQVksUUFBQSxxQkFBWixXQURNLElBSVZxRSxFQUpBM0gsRUFBQStFLE1BSWErQixRQUFvQk0sY0FDckJwRCxFQUFLMkQsRUFBYzhCLEtBQVEsb0JBRWhDOUIsRUFBQWxDLFNBQUEsV0FJT2tDLEVBQVdtQyxZQUFVRCxVQUMxQjZELEdBQUFrRSxFQUFBLE9BQUEsT0FKRGpJLEVBREQ1RyxTQUFBLFVBRU8ySyxHQUZQa0UsRUFBQSxPQUFBLFNBbEVYeFEsRUFBUzhDLFFBNkViOUMsRUFBQWtDLEdBQWtCLFFBQUEsV0FDUitOLElBQVVwUixFQUFPRCxFQUFDUyxNQUdiNEUsRUFBQUksU0FBWSxXQUNYeEMsRUFBS0YsU0FBQSxZQU9iNkcsZ0JBcjJCWixDQWk2QkdpSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFRoaXJkIHBhcnR5XG4gKi9cblxuXG5cbi8qXG4gKiBDdXN0b21cbiAqL1xuOyhmdW5jdGlvbiAoJCkge1xuXG4gICAgY29uc3QgJGFjY2VudCA9ICQoJyNhY2NlbnQgLmNvdW50ZXInKTtcbiAgICBjb25zdCAkYWNjb3JkaW9uID0gJCgnLmFjY29yZGlvbicpO1xuICAgIGNvbnN0ICRib2R5ID0gJChcImJvZHlcIik7XG4gICAgY29uc3QgJGJsb2NrVG9nZ2xlID0gJCgnW2RhdGEtYmxvY2stdG9nZ2xlXScpO1xuICAgIGNvbnN0ICRidG5Ub29sdGlwID0gJCgnLmJ0bi10b29sdGlwJyk7XG4gICAgY29uc3QgJGJ0bkZpbHRlck5vdEFjdGl2ZSA9ICQoJ1tkYXRhLWJ0bi1maWx0ZXItbm90LWFjdGl2ZV0nKTtcbiAgICBjb25zdCAkY2hhcnQgPSAkKCcuY2hhcnQnKTtcbiAgICBjb25zdCAkY2hhdCA9ICQoJy5jaGF0Jyk7XG4gICAgY29uc3QgJGNoYXRCb2R5ID0gJGNoYXQuZmluZCgnLmNoYXRfX2JvZHknKTtcbiAgICBjb25zdCAkY2FyZEJvZHlXaXRoU2Nyb2xsID0gJCgnLmNhcmQtYm9keS5vdmVyZmxvdy15LWF1dG8nKTtcbiAgICBjb25zdCAkY291bnRlcnMgPSAkKCcuY291bnRlcicpO1xuICAgIGNvbnN0ICRmYW5jeWJveCA9ICQoJ1tkYXRhLWZhbmN5Ym94PVwiZ2FsbGVyeVwiXScpO1xuICAgIGNvbnN0ICRmb3JtQ29udHJvbEZpbGUgPSAkKCcuZm9ybS1jb250cm9sLWZpbGUnKTtcbiAgICBjb25zdCAkaW5wdXROYW8gPSAkKCcuaW5wdXQtbmFvX19maWVsZCcpO1xuICAgIGNvbnN0ICRpbnB1dE1hc2tUZWwgPSAkKCdbZGF0YS1pbnB1dG1hc2stdGVsXScpO1xuICAgIGNvbnN0ICRpbnB1dE1hc2tCRGF5ID0gJCgnW2RhdGEtaW5wdXRtYXNrLWJEYXldJyk7XG4gICAgY29uc3QgJGlucHV0TWFza0VtYWlsID0gJCgnW2RhdGEtaW5wdXRtYXNrLWVtYWlsXScpO1xuICAgIGNvbnN0ICRpbnB1dEZvckJsb2NrVG9nZ2xlID0gJCgnW2RhdGEtaW5wdXQtZm9yLWJsb2NrLXRvZ2dsZV0nKTtcbiAgICBjb25zdCAkbGV0dGVycyA9ICQoJy5sZXR0ZXItaWNvbicpO1xuICAgIGNvbnN0ICRyYWRpb0hpZGUgPSAkKCdbZGF0YS1yYWRpby1oaWRlXScpO1xuICAgIGNvbnN0ICRyYWRpb0xpa2UgPSAkKCdbZGF0YS1yYWRpby1saWtlXScpO1xuICAgIGNvbnN0ICRyYW5nZVNsaWRlciA9ICQoXCIuanMtcmFuZ2Utc2xpZGVyXCIpO1xuICAgIGNvbnN0ICRyYW5nZVNsaWRlclNpbmdsZSA9ICQoXCIuanMtcmFuZ2Utc2xpZGVyLXNpbmdsZVwiKTtcbiAgICBjb25zdCAkcmFuZ2VTbGlkZXJTaW5nbGVMaW5rID0gJCgnLmpzLXJhbmdlLXNsaWRlci1zaW5nbGUtbGluaycpO1xuICAgIGNvbnN0ICRyYW5nZVNsaWRlclNpbmdsZUlucHV0ID0gJCgnLmpzLXJhbmdlLXNsaWRlci1zaW5nbGUtaW5wdXQnKTtcbiAgICBjb25zdCAkcmFuZ2VTbGlkZXJJbnB1dFN0YXJ0ID0gJCgnLmpzLXJhbmdlLXNsaWRlci1pbnB1dC1zdGFydCcpO1xuICAgIGNvbnN0ICRyYW5nZVNsaWRlcklucHV0RW5kID0gJCgnLmpzLXJhbmdlLXNsaWRlci1pbnB1dC1lbmQnKTtcbiAgICBjb25zdCAkcmFuZ2VDYWxlbmRhciA9ICQoXCIjcmFuZ2UtY2FsZW5kYXJcIik7XG4gICAgY29uc3QgJHJhdGluZyA9ICQoXCJbZGF0YS1yYXRpbmddXCIpO1xuICAgIGNvbnN0ICRyYXRpbmdPdXRwdXQgPSAkKFwiW2RhdGEtcmF0aW5nLW91dHB1dF1cIik7XG4gICAgY29uc3QgJHNlY01haW4gPSAkKCcuc2VjLW1haW4nKTtcbiAgICBjb25zdCAkc2VsZWN0ID0gJCgnLnNlbGVjdCcpO1xuICAgIGNvbnN0ICRzbGlja0ZvciA9ICQoJy5zbGlkZXItZm9yJyk7XG4gICAgY29uc3QgJHNsaWNrTmF2ID0gJCgnLnNsaWRlci1uYXYnKTtcbiAgICBjb25zdCAkc2xpY2tPcmRlciA9ICQoJy5zbGlkZXItb3JkZXInKTtcbiAgICBjb25zdCAkc3RpY2t5ID0gJCgnLnN0aWNreScpO1xuICAgIGNvbnN0ICRzdGlja3lCcmVhZGNydW1icyA9ICQoJ1tkYXRhLXN0aWNreS1icmVhZGNydW1ic10nKTtcbiAgICBjb25zdCAkc3RpY2t5VGFiQmFyID0gJCgnW2RhdGEtc3RpY2t5LXRhYi1iYXJdJyk7XG4gICAgY29uc3QgJHN3aXRjaCA9ICQoJy5zd2l0Y2guc3dpdGNoLXNtJyk7XG4gICAgY29uc3QgJHN3aXRjaGVyTmF2SW5wdXQgPSAkKCdbZGF0YS1zd2l0Y2hlci1uYXYtaW5wdXRdJyk7XG4gICAgY29uc3QgJHN3aXRjaGVySW5wdXRUb2dnbGUgPSAkKCdbZGF0YS1zd2l0Y2hlci1pbnB1dC10b2dnbGVdJyk7XG4gICAgY29uc3QgJHRpbWVyID0gJCgnW2RhdGEtdGltZXItZGlzcGxheV0nKTtcbiAgICBjb25zdCAkdG9vbHRpcCA9ICQoJy50b29sdGlwJyk7XG5cbiAgICBsZXQgdGVtcGxhdGVTdGFyID0gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwi0KHQu9C+0LlfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiXG4gICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCA1MTIgNDkxLjVcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDQ5MS41O1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggY2xhc3M9XCJzdDBcIiBkPVwiTTI2OC4xLDkuNGw2NS4xLDE1NC4xTDUwMCwxNzcuOWMxMS42LDEsMTYuMywxNS40LDcuNSwyM0wzODEsMzEwLjVsMzcuOSwxNjNjMi42LDExLjMtOS42LDIwLjItMTkuNiwxNC4yXG4gICAgICAgICAgICAgICAgXFx0XFx0XFx0TDI1Niw0MDEuM2wtMTQzLjMsODYuNGMtMTAsNi0yMi4yLTIuOS0xOS42LTE0LjJsMzcuOS0xNjNMNC41LDIwMC45Yy04LjgtNy42LTQuMS0yMiw3LjUtMjNsMTY2LjctMTQuM0wyNDMuOSw5LjRcbiAgICAgICAgICAgICAgICBcXHRcXHRcXHRDMjQ4LjQtMS4zLDI2My42LTEuMywyNjguMSw5LjRMMjY4LjEsOS40elwiLz48L3N2Zz5gO1xuXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCAkcHJlbG9hZGVyID0gJChcIi5wcmVsb2FkZXJcIik7XG5cbiAgICAgICAgJHByZWxvYWRlci5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICRpbnB1dE5hby5lYWNoKGZ1bmN0aW9uIChpbmRleCwgaW5wdXROYW8pIHtcbiAgICAgICAgICAgIGlmICgkKGlucHV0TmFvKS52YWwoKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAkKGlucHV0TmFvKS5hZGRDbGFzcygnaW5wdXQtbmFvX19maWxsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChpbnB1dE5hbykucmVtb3ZlQ2xhc3MoJ2lucHV0LW5hb19fZmlsbGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJ2lucHV0JykuYXR0cignYXV0b2NvbXBsZXRlJywgJ2ZhbHNlJyk7XG4gICAgICAgICQoJ2Zvcm0nKS5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgfSk7XG5cbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgIGlmICgkc3RpY2t5Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHNjcm9sbCA+IDApIHtcbiAgICAgICAgICAgICAgICAkc3RpY2t5LmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc3RpY2t5LnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIGlmICgkY2FyZEJvZHlXaXRoU2Nyb2xsLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjaXJjbGUgPSAkYWNjZW50LmZpbmQoJy5jb3VudGVyX19jaXJjbGUtdmFsdWUnKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkYWNjZW50LmZpbmQoJy5jb3VudGVyX19vdXRwdXQnKTtcbiAgICAgICAgbGV0IHBhZGRpbmdUb3AgPSBwYXJzZUludCgkY2FyZEJvZHlXaXRoU2Nyb2xsLmNzcyhcInBhZGRpbmctdG9wXCIpKTtcbiAgICAgICAgbGV0IHBhZGRpbmdCb3R0b20gPSBwYXJzZUludCgkY2FyZEJvZHlXaXRoU2Nyb2xsLmNzcyhcInBhZGRpbmctQm90dG9tXCIpKTtcbiAgICAgICAgbGV0IHNjcm9sbEhlaWdodCA9ICRjYXJkQm9keVdpdGhTY3JvbGwuZmluZCgnLmNvbnRhaW5lcicpLnByb3AoJ2NsaWVudEhlaWdodCcpIC0gJGNhcmRCb2R5V2l0aFNjcm9sbC5wcm9wKCdjbGllbnRIZWlnaHQnKSArIHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tO1xuICAgICAgICBsZXQgcGVyY2VudDtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcblxuICAgICAgICAkY2FyZEJvZHlXaXRoU2Nyb2xsLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGxldCBzY3JvbGwgPSAkY2FyZEJvZHlXaXRoU2Nyb2xsLnNjcm9sbFRvcCgpO1xuICAgICAgICAgICAgcGVyY2VudCA9IHNjcm9sbCAvIHNjcm9sbEhlaWdodCAqIDEwMDtcbiAgICAgICAgICAgIHBlcmNlbnQgPSArcGVyY2VudC50b0ZpeGVkKDApO1xuXG4gICAgICAgICAgICBpZiAocGVyY2VudCA9PT0gc3RhcnQgfHwgcGVyY2VudCA+IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBwZXJjZW50O1xuXG4gICAgICAgICAgICAgICAgLy8gY2lyY2xlLmF0dHIoJ3N0cm9rZS1kYXNob2Zmc2V0Jywgc3RhcnQpO1xuICAgICAgICAgICAgICAgIC8vIGNpcmNsZS5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKGAkeyBzdGFydCB9LCAxMDBgKSk7XG4gICAgICAgICAgICAgICAgdmFsdWUudGV4dChzdGFydClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0YXJ0Jywgc3RhcnQpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3BlcmNlbnQnLCBwZXJjZW50KTtcblxuXG4gICAgICAgICAgICBpZiAoc2Nyb2xsID49IHNjcm9sbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICRibG9ja1RvZ2dsZS5maW5kKCdidXR0b24nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICQoJy50aWNrJykucmVtb3ZlQ2xhc3MoJ3RpY2staGlkZGVuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRzZWNNYWluLmxlbmd0aCkge1xuICAgICAgICAkLnNjcm9sbEFuaW1hdGUgPSBmdW5jdGlvbiAob3B0aW9ucywgc2Nyb2xsSnF1ZXJ5RWxlbSkge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgc2Nyb2xsRG93bjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Nyb2xsVXA6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgbGV0IHNjcm9sbFBvc2l0aW9uID0gMDtcbiAgICAgICAgICAgIGxldCBpc1Njcm9sbEhlaWdodCA9IHNjcm9sbEpxdWVyeUVsZW0ucHJvcCgnc2Nyb2xsSGVpZ2h0JykgLSBzY3JvbGxKcXVlcnlFbGVtLnByb3AoJ3Njcm9sbFRvcCcpIC0gc2Nyb2xsSnF1ZXJ5RWxlbS5wcm9wKCdjbGllbnRIZWlnaHQnKSAtIDg7XG5cbiAgICAgICAgICAgIHNjcm9sbEpxdWVyeUVsZW0ub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3Vyc29yUG9zaXRpb24gPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvclBvc2l0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnNjcm9sbFVwKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Njcm9sbEhlaWdodCA8PSBjdXJzb3JQb3NpdGlvbiAmJiAhIWlzU2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnNjcm9sbERvd24oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnNvclBvc2l0aW9uID4gc2Nyb2xsUG9zaXRpb24gJiYgKGN1cnNvclBvc2l0aW9uIC0gc2Nyb2xsUG9zaXRpb24pIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zY3JvbGxEb3duKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxQb3NpdGlvbiA+IGN1cnNvclBvc2l0aW9uICYmIChjdXJzb3JQb3NpdGlvbiAtIHNjcm9sbFBvc2l0aW9uKSA8IC01KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnNjcm9sbFVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjcm9sbFBvc2l0aW9uID0gY3Vyc29yUG9zaXRpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgaGFuZGxlU2Nyb2xsVXAgPSBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhZGRDbGFzc1RvQm9keSgkc3RpY2t5VGFiQmFyLCAnc3RpY2t5LXRhYi1iYXInKTtcbiAgICAgICAgICAgIGFkZENsYXNzVG9Cb2R5KCRzdGlja3lCcmVhZGNydW1icywgJ3N0aWNreS1icmVhZGNydW1icycpO1xuICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICBsZXQgaGFuZGxlU2Nyb2xsRG93biA9IGRlYm91bmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzRnJvbUJvZHkoJHN0aWNreVRhYkJhciwgJ3N0aWNreS10YWItYmFyJyk7XG4gICAgICAgICAgICByZW1vdmVDbGFzc0Zyb21Cb2R5KCRzdGlja3lCcmVhZGNydW1icywgJ3N0aWNreS1icmVhZGNydW1icycpO1xuICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICAkLnNjcm9sbEFuaW1hdGUoe1xuICAgICAgICAgICAgc2Nyb2xsRG93bjogaGFuZGxlU2Nyb2xsVXAsXG4gICAgICAgICAgICBzY3JvbGxVcDogaGFuZGxlU2Nyb2xsRG93blxuICAgICAgICB9LCAkc2VjTWFpbik7XG4gICAgfVxuXG4gICAgaWYgKCRjaGF0Lmxlbmd0aCkge1xuICAgICAgICBsZXQgc2Nyb2xsSGVpZ2h0ID0gJGNoYXRCb2R5LmZpbmQoJy5jb250YWluZXInKS5wcm9wKCdjbGllbnRIZWlnaHQnKTtcbiAgICAgICAgJGNoYXRCb2R5LnNjcm9sbFRvcChzY3JvbGxIZWlnaHQpO1xuICAgIH1cblxuICAgIGlmICgkYnRuRmlsdGVyTm90QWN0aXZlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBlbGVtZW50c0ZvclRvZ2dsZSA9ICQoJy5saXN0LWl0ZW0tbm90LWFjdGl2ZScpO1xuICAgICAgICBjb25zdCBjb250ZXh0QnRuID0ge1xuICAgICAgICAgICAgbmV3OiBcItCf0L7RgdC80L7RgtGA0LXRgtGMINC90L7QstGL0LVcIixcbiAgICAgICAgICAgIGFsbDogXCLQn9C+0YHQvNC+0YLRgNC10YLRjCDQstGB0LVcIlxuICAgICAgICB9O1xuXG4gICAgICAgICRidG5GaWx0ZXJOb3RBY3RpdmUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZiA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmhhc0NsYXNzKCd0b2dnbGUnKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzRm9yVG9nZ2xlLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlQ2xhc3MoJ3RvZ2dsZScpLmZpbmQoJ1tkYXRhLXRleHQtdG9nZ2xlXScpLnRleHQoY29udGV4dEJ0bi5uZXcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0ZvclRvZ2dsZS5mYWRlT3V0KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRDbGFzcygndG9nZ2xlJykuZmluZCgnW2RhdGEtdGV4dC10b2dnbGVdJykudGV4dChjb250ZXh0QnRuLmFsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBpZiAoJGlucHV0TWFza1RlbC5sZW5ndGgpIHtcbiAgICAgICAgJGlucHV0TWFza1RlbC5pbnB1dG1hc2soe1xuICAgICAgICAgICAgXCJtYXNrXCI6IFwiKzcgKDk5OSkgOTk5LTk5LTk5XCJcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoJGlucHV0TWFza0VtYWlsLmxlbmd0aCkge1xuICAgICAgICAkaW5wdXRNYXNrRW1haWwuaW5wdXRtYXNrKHtcbiAgICAgICAgICAgIG1hc2s6IFwiKnsxLDIwfUAqezEsMjB9Wy4qezIsNn1dWy4qezEsMn1dXCIsXG4gICAgICAgICAgICBncmVlZHk6IGZhbHNlLFxuICAgICAgICAgICAgb25CZWZvcmVQYXN0ZTogZnVuY3Rpb24gKHBhc3RlZFZhbHVlLCBvcHRzKSB7XG4gICAgICAgICAgICAgICAgcGFzdGVkVmFsdWUgPSBwYXN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXN0ZWRWYWx1ZS5yZXBsYWNlKFwibWFpbHRvOlwiLCBcIlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xuICAgICAgICAgICAgICAgICcqJzoge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtWmEteiEjJCUmJyorLz0/Xl9ge3x9flxcLV1cIixcbiAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBcImxvd2VyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICgkaW5wdXRNYXNrQkRheS5sZW5ndGgpIHtcbiAgICAgICAgJGlucHV0TWFza0JEYXkuaW5wdXRtYXNrKHtcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBpbnB1dEZvcm1hdDogXCJkZC9tbS95eXl5XCJcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoJHN3aXRjaGVyTmF2SW5wdXQubGVuZ3RoICYmICRzd2l0Y2hlcklucHV0VG9nZ2xlLmxlbmd0aCkge1xuICAgICAgICAkc3dpdGNoZXJOYXZJbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICBsZXQgdmFsID0gc2VsZi5kYXRhKCdzd2l0Y2hlci1uYXYtaW5wdXQnKTtcblxuICAgICAgICAgICAgJHN3aXRjaGVySW5wdXRUb2dnbGUuZWFjaCgoaW5kZXgsIGlucHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbElucHV0ID0gJChpbnB1dCkuZGF0YSgnc3dpdGNoZXItaW5wdXQtdG9nZ2xlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSB2YWxJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dCkucmVtb3ZlQXR0cignZGlzYWJsZWQnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdmFsSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXQpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmICgkdG9vbHRpcC5sZW5ndGggJiYgJGJ0blRvb2x0aXAubGVuZ3RoKSB7XG4gICAgICAgICRidG5Ub29sdGlwLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImFcIikge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0YXJnZXQuaGFzQ2xhc3MoJ2J0bi10b29sdGlwJykpIHtcblxuICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXQgIT09IHNlbGYpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc0NsYXNzKCdidG4tdG9vbHRpcCcpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVRvb2x0aXAoc2VsZik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlVG9vbHRpcChzZWxmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5uZXh0KCcudG9vbHRpcCcpLmhhc0NsYXNzKCdvcGVuJykpIHtcbiAgICAgICAgICAgICAgICAkdG9vbHRpcC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkdG9vbHRpcC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQubmV4dCgnLnRvb2x0aXAnKS5hZGRDbGFzcygnb3BlbicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubmV4dCgnLnRvb2x0aXAtZmFkZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5uZXh0KCcudG9vbHRpcC1mYWRlJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNDAwMClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICBpZiAoJHRvb2x0aXAuaGFzQ2xhc3MoJ29wZW4nKSkge1xuXG4gICAgICAgICAgICAgICAgJHRvb2x0aXAuZWFjaCgoaW5kZXgsIHRvb2x0aXApID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoISQodG9vbHRpcCkuaXMoZS50YXJnZXQpICYmICR0b29sdGlwLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwICYmICRidG5Ub29sdGlwLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwICYmICEkYnRuVG9vbHRpcC5pcyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodG9vbHRpcCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKCRmYW5jeWJveC5sZW5ndGgpIHtcbiAgICAgICAgJGZhbmN5Ym94LmZhbmN5Ym94KHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHRydWUsXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJHJhZGlvSGlkZS5sZW5ndGgpIHtcbiAgICAgICAgJHJhZGlvSGlkZS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCAkY2xvc2VzdCA9ICQodGhpcykuY2xvc2VzdCgnLmxpc3QtaXRlbScpO1xuXG4gICAgICAgICAgICAkY2xvc2VzdC5mYWRlT3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRyYWRpb0xpa2UubGVuZ3RoKSB7XG4gICAgICAgICRyYWRpb0xpa2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0ICRjbG9zZXN0ID0gJCh0aGlzKS5jbG9zZXN0KCcubGlzdC1pdGVtJyk7XG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgaWYgKCRyYXRpbmcubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAkcmF0aW5nLnJhdGVZbyh7XG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcldpZHRoOiBcIjMycHhcIixcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsRmlsbDogXCIjYmFiMmJmXCIsXG4gICAgICAgICAgICAgICAgICAgIHJhdGVkRmlsbDogXCIjNWUzMDgwXCIsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNpbmcgICA6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICBudW1TdGFyczogNSxcbiAgICAgICAgICAgICAgICAgICAgcHJlY2lzaW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBzdGFyU3ZnOiB0ZW1wbGF0ZVN0YXIsXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKHJhdGluZywgcmF0ZVlvSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudCBvbkluaXQ6IHJhdGluZycsIHJhdGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2V0OiBmdW5jdGlvbiAocmF0aW5nLCByYXRlWW9JbnN0YW5jZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQgb25TZXQ6IHJhdGluZycsIHJhdGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRjbG9zZXN0LmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHJhdGluZywgcmF0ZVlvSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudCBvbkNoYW5nZTogcmF0aW5nJywgcmF0aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJHJhdGluZ091dHB1dC5sZW5ndGgpIHtcblxuICAgICAgICAkcmF0aW5nT3V0cHV0LnJhdGVZbyh7XG4gICAgICAgICAgICByYXRpbmc6IDMuMyxcbiAgICAgICAgICAgIHN0YXJXaWR0aDogXCIyNHB4XCIsXG4gICAgICAgICAgICBub3JtYWxGaWxsOiBcIiNiYWIyYmZcIixcbiAgICAgICAgICAgIHJhdGVkRmlsbDogXCIjNWUzMDgwXCIsXG4gICAgICAgICAgICBzcGFjaW5nICAgOiBcIjBcIixcbiAgICAgICAgICAgIG51bVN0YXJzOiA1LFxuICAgICAgICAgICAgcHJlY2lzaW9uOiAxLFxuICAgICAgICAgICAgc3RhclN2ZzogdGVtcGxhdGVTdGFyLFxuICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAocmF0aW5nLCByYXRlWW9JbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudCBvbkluaXQ6IHJhdGluZycsIHJhdGluZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TZXQ6IGZ1bmN0aW9uIChyYXRpbmcsIHJhdGVZb0luc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQgb25TZXQ6IHJhdGluZycsIHJhdGluZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIChyYXRpbmcsIHJhdGVZb0luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2V2ZW50IG9uQ2hhbmdlOiByYXRpbmcnLCByYXRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJGNvdW50ZXJzLmxlbmd0aCkge1xuICAgICAgICBjb3VudGVyKCk7XG4gICAgfVxuXG4gICAgaWYgKGFjY2VudC5sZW5ndGgpIHtcbiAgICAgICAgYWNjZW50KCk7XG4gICAgfVxuXG4gICAgaWYgKCRyYW5nZUNhbGVuZGFyLmxlbmd0aCkge1xuICAgICAgICBsZXQgcnUgPSAncnUnO1xuICAgICAgICBsZXQgY3VycmVudERhdGUgPSBtb21lbnQoKTtcbiAgICAgICAgbGV0IGVuZERhdGUgPSBtb21lbnQoKS5hZGQoJ21vbnRocycsIDEyKTtcblxuICAgICAgICAkcmFuZ2VDYWxlbmRhci5yYW5nZUNhbGVuZGFyKHtcbiAgICAgICAgICAgIGxhbmc6IHJ1LFxuICAgICAgICAgICAgdGhlbWU6IFwiZGVmYXVsdC10aGVtZVwiLFxuICAgICAgICAgICAgdGhlbWVDb250ZXh0OiB0aGlzLFxuICAgICAgICAgICAgc3RhcnREYXRlOiBjdXJyZW50RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGU6IGVuZERhdGUsXG4gICAgICAgICAgICBzdGFydDogXCIrN1wiLFxuICAgICAgICAgICAgc3RhcnRSYW5nZVdpZHRoOiAxLFxuICAgICAgICAgICAgbWluUmFuZ2VXaWR0aDogMSxcbiAgICAgICAgICAgIG1heFJhbmdlV2lkdGg6IDEsXG4gICAgICAgICAgICB3ZWVrZW5kczogdHJ1ZSxcbiAgICAgICAgICAgIGF1dG9IaWRlTW9udGhzOiBmYWxzZSxcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICB0cmlnZ2VyOiAnY2xpY2snLFxuXG4gICAgICAgICAgICBjaGFuZ2VSYW5nZUNhbGxiYWNrOiByYW5nZUNoYW5nZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmFuZ2VDaGFuZ2VkKHRhcmdldCwgcmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGFyZ2V0OiBcIiwgdGFyZ2V0LCBcInJhbmdlOiBcIiwgcmFuZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCRyYW5nZVNsaWRlci5sZW5ndGgpIHtcbiAgICAgICAgJHJhbmdlU2xpZGVyLmlvblJhbmdlU2xpZGVyKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZG91YmxlXCIsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDI0LFxuICAgICAgICAgICAgZnJvbTogMTMsXG4gICAgICAgICAgICB0bzogMTgsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgcG9zdGZpeDogXCIuMDBcIixcbiAgICAgICAgICAgIHNraW46ICdyb3VuZCcsXG4gICAgICAgICAgICBoaWRlX21pbl9tYXg6IHRydWUsXG4gICAgICAgICAgICBoaWRlX21pbl90bzogdHJ1ZSxcbiAgICAgICAgICAgIG9uRmluaXNoOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRpbnB1dFN0YXJ0ID0gJHJhbmdlU2xpZGVySW5wdXRTdGFydDtcbiAgICAgICAgICAgICAgICBjb25zdCAkaW5wdXRFbmQgPSAkcmFuZ2VTbGlkZXJJbnB1dEVuZDtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IGRhdGEuZnJvbTtcbiAgICAgICAgICAgICAgICBsZXQgdG8gPSBkYXRhLnRvO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAkaW5wdXRTdGFydC50ZXh0KFwiMFwiICsgZnJvbSArIFwiLjAwXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dFN0YXJ0LnRleHQoZnJvbSArIFwiLjAwXCIpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRvIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0RW5kLnRleHQoXCIwXCIgKyB0byArIFwiLjAwXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0RW5kLnRleHQodG8gKyBcIi4wMFwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRyYW5nZVNsaWRlclNpbmdsZS5sZW5ndGgpIHtcbiAgICAgICAgJHJhbmdlU2xpZGVyU2luZ2xlLmlvblJhbmdlU2xpZGVyKHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMjQsXG4gICAgICAgICAgICBmcm9tOiAxMyxcbiAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICBwb3N0Zml4OiBcIi4wMFwiLFxuICAgICAgICAgICAgc2tpbjogJ3JvdW5kJyxcbiAgICAgICAgICAgIGhpZGVfbWluX21heDogdHJ1ZSxcbiAgICAgICAgICAgIGhpZGVfbWluX3RvOiB0cnVlLFxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJGlucHV0ID0gJCgnLmpzLXJhbmdlLXNsaWRlci1zaW5nbGUtaW5wdXQuYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBkYXRhLmZyb207XG5cbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50ZXh0KFwiMFwiICsgZnJvbSArIFwiLjAwXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRleHQoZnJvbSArIFwiLjAwXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoISRyYW5nZVNsaWRlclNpbmdsZUlucHV0Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgJHJhbmdlU2xpZGVyU2luZ2xlSW5wdXQuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgfVxuXG4gICAgICAgICRyYW5nZVNsaWRlclNpbmdsZUxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgJHJhbmdlU2xpZGVyU2luZ2xlSW5wdXQucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuanMtcmFuZ2Utc2xpZGVyLXNpbmdsZS1pbnB1dCcpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmICgkaW5wdXROYW8ubGVuZ3RoKSB7XG4gICAgICAgICRpbnB1dE5hby5vbignZm9jdXMgYmx1ciBpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtbmFvX19maWxsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtbmFvX19maWxsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRibG9ja1RvZ2dsZS5sZW5ndGggJiYgJGlucHV0Rm9yQmxvY2tUb2dnbGUubGVuZ3RoICYmICEkZm9ybUNvbnRyb2xGaWxlLmxlbmd0aCkge1xuICAgICAgICAkaW5wdXRGb3JCbG9ja1RvZ2dsZS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGVscyA9ICQoJy5pbnB1dC1uYW9fX2ZpZWxkJykuZmlsdGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnZhbCgpICE9PSBcIlwiICYmICQodGhpcykudmFsKCkgIT09IFwiMFwiO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICRibG9ja1RvZ2dsZS5maW5kKCdidXR0b25bdHlwZT1zdWJtaXRdJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGJsb2NrVG9nZ2xlLmZpbmQoJ2J1dHRvblt0eXBlPXN1Ym1pdF0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmICgkYmxvY2tUb2dnbGUubGVuZ3RoICYmICRpbnB1dEZvckJsb2NrVG9nZ2xlLmxlbmd0aCAmJiAkZm9ybUNvbnRyb2xGaWxlLmxlbmd0aCkge1xuICAgICAgICAkaW5wdXRGb3JCbG9ja1RvZ2dsZS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGVscyA9ICQoJy5pbnB1dC1uYW9fX2ZpZWxkJykuZmlsdGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnZhbCgpICE9PSBcIlwiICYmICQodGhpcykudmFsKCkgIT09IFwiMFwiO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsc0ZpbGUgPSAkZm9ybUNvbnRyb2xGaWxlLmZpbmQoJy5mb3JtLWNvbnRyb2wtZmlsZV9faXRlbScpO1xuXG4gICAgICAgICAgICBpZiAoZWxzLmxlbmd0aCA+IDAgJiYgZWxzRmlsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkYmxvY2tUb2dnbGUuZmluZCgnYnV0dG9uW3R5cGU9c3VibWl0XScpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRibG9ja1RvZ2dsZS5maW5kKCdidXR0b25bdHlwZT1zdWJtaXRdJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoJGNoYXJ0Lmxlbmd0aCkge1xuICAgICAgICBIaWdoY2hhcnRzLmNoYXJ0KCdjaGFydCcsIHtcbiAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgcGxvdEJhY2tncm91bmRDb2xvcjogbnVsbCxcbiAgICAgICAgICAgICAgICBwbG90Qm9yZGVyV2lkdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgcGxvdFNoYWRvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3BpZScsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBbMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogWzAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogJydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogNCxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogMjQsXG4gICAgICAgICAgICAgICAgcG9pbnRGb3JtYXQ6ICd7c2VyaWVzLm5hbWV9OiA8Yj57cG9pbnQucGVyY2VudGFnZTouMWZ9JTwvYj4nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBwaWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dQb2ludFNlbGVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFMYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNob3dJbkxlZ2VuZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzbGljZWRPZmZzZXQ6IDQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmFjdGl2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Zlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsbzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVkaXRzOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXJpZXM6IFt7XG4gICAgICAgICAgICAgICAgbmFtZTogJ0JyYW5kcycsXG4gICAgICAgICAgICAgICAgY29sb3JCeVBvaW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IFt7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDaHJvbWUnLFxuICAgICAgICAgICAgICAgICAgICB5OiA2MS40MSxcbiAgICAgICAgICAgICAgICAgICAgc2xpY2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSW50ZXJuZXQgRXhwbG9yZXInLFxuICAgICAgICAgICAgICAgICAgICB5OiAxMS44NFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgICAgICB5OiAxMC44NVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0VkZ2UnLFxuICAgICAgICAgICAgICAgICAgICB5OiA0LjY3XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2FmYXJpJyxcbiAgICAgICAgICAgICAgICAgICAgeTogNC4xOFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ090aGVyJyxcbiAgICAgICAgICAgICAgICAgICAgeTogNy4wNVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRzd2l0Y2gubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHN3aXRjaElucHV0ID0gJHN3aXRjaC5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpO1xuICAgICAgICBsZXQgaXNDaGVja2VkID0gc3dpdGNoSW5wdXQucHJvcCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCAkY291bnRlcnMgPSAkKFwiI2NvdW50ZXJzXCIpO1xuXG4gICAgICAgIGlmIChpc0NoZWNrZWQpIHtcbiAgICAgICAgICAgIHRvZ2dsZUFuaW1hdGUoJGNvdW50ZXJzLCBcInNob3dcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2hJbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDaGVja2VkID0gc3dpdGNoSW5wdXQucHJvcCgnY2hlY2tlZCcpO1xuXG4gICAgICAgICAgICBpZiAoaXNDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQW5pbWF0ZSgkY291bnRlcnMsIFwic2hvd1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQW5pbWF0ZSgkY291bnRlcnMsIFwiaGlkZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRzZWxlY3QpIHtcbiAgICAgICAgJHNlbGVjdC5vbignY2xpY2snLCAnLnNlbGVjdF9fcGxhY2Vob2xkZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5zZWxlY3QnKTtcblxuICAgICAgICAgICAgaWYgKCFwYXJlbnQuaGFzQ2xhc3MoJ2lzLW9wZW4nKSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnaXMtb3BlbicpO1xuICAgICAgICAgICAgICAgICQoJy5zZWxlY3QuaXMtb3BlbicpLm5vdChwYXJlbnQpLnJlbW92ZUNsYXNzKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5vbignY2xpY2snLCAnLnNlbGVjdF9fbGlzdCA+IGxpJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuc2VsZWN0Jyk7XG4gICAgICAgICAgICBjb25zdCBzZWxmID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNsYXNzKCdpcy1vcGVuJykuZmluZCgnLnNlbGVjdF9fcGxhY2Vob2xkZXInKS50ZXh0KCQodGhpcykudGV4dCgpKTtcblxuICAgICAgICAgICAgJCgnLnNlbGVjdF9fbGlzdCA+IGxpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICBzZWxmLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJHNsaWNrT3JkZXIubGVuZ3RoKSB7XG5cbiAgICAgICAgJHNsaWNrT3JkZXIub24oJ2luaXQnLCBoYW5kbGVTbGlja0ZvckluaXQpO1xuXG4gICAgICAgICRzbGlja09yZGVyLnNsaWNrKHtcbiAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlICxcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcbiAgICAgICAgICAgIHN3aXBlOiB0cnVlLFxuICAgICAgICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlLFxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNDBweCcsXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignc3dpcGUnLCBoYW5kbGVTbGlja0ZvclN3aXBlKVxuICAgICAgICAgICAgLm9uKCdiZWZvcmVDaGFuZ2UnLCBoYW5kbGVTbGlja0ZvckJlZm9yZUNoYW5nZSlcbiAgICAgICAgICAgIC5vbignYWZ0ZXJDaGFuZ2UnLCBoYW5kbGVTbGlja0ZvckFmdGVyQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBpZiAoJHNsaWNrRm9yLmxlbmd0aCAmJiAkc2xpY2tOYXYubGVuZ3RoKSB7XG5cbiAgICAgICAgJHNsaWNrRm9yLm9uKCdpbml0JywgaGFuZGxlU2xpY2tGb3JJbml0KTtcblxuICAgICAgICAkc2xpY2tGb3Iuc2xpY2soe1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgYXNOYXZGb3I6ICcuc2xpZGVyLW5hdicsXG4gICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogZmFsc2UsXG4gICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdzd2lwZScsIGhhbmRsZVNsaWNrRm9yU3dpcGUpXG4gICAgICAgICAgICAub24oJ2JlZm9yZUNoYW5nZScsIGhhbmRsZVNsaWNrRm9yQmVmb3JlQ2hhbmdlKVxuICAgICAgICAgICAgLm9uKCdhZnRlckNoYW5nZScsIGhhbmRsZVNsaWNrRm9yQWZ0ZXJDaGFuZ2UpO1xuXG4gICAgICAgICRzbGlja05hdi5zbGljayh7XG4gICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogZmFsc2UsXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgY2VudGVyTW9kZTogZmFsc2UsXG4gICAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXG4gICAgICAgICAgICBzd2lwZTogdHJ1ZSxcbiAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogdHJ1ZSxcbiAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzQwcHgnLFxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICBhc05hdkZvcjogJy5zbGlkZXItZm9yJyxcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQxNCxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiAzNzQsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZENsYXNzSW5BcnJFbGVtZW50cyh3cmFwLCBpbm5lckVsZW0sIG5ld0NsYXNzKSB7XG4gICAgICAgIHdyYXAuZmluZChpbm5lckVsZW0pLmVhY2goKGluZGV4LCBlbGVtKSA9PiB7XG4gICAgICAgICAgICAkKGVsZW0pLmFkZENsYXNzKG5ld0NsYXNzKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzc0luQXJyRWxlbWVudHMod3JhcCwgaW5uZXJFbGVtLCBvbGRDbGFzcykge1xuICAgICAgICB3cmFwLmZpbmQoaW5uZXJFbGVtKS5lYWNoKChpbmRleCwgZWxlbSkgPT4ge1xuICAgICAgICAgICAgJChlbGVtKS5yZW1vdmVDbGFzcyhvbGRDbGFzcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNsaWNrRm9ySW5pdChldmVudCwgc2xpY2spe1xuICAgICAgICBjb25zdCBzbGlkZUFjdGl2ZSA9ICQodGhpcykuZmluZCgnLnNsaWNrLXNsaWRlLnNsaWNrLWFjdGl2ZScpO1xuXG4gICAgICAgIGFkZENsYXNzSW5BcnJFbGVtZW50cyhzbGlkZUFjdGl2ZSwgJ1tkYXRhLWFvc149ZmFkZV0nLCAnYW9zLWFuaW1hdGUnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTbGlja0ZvclN3aXBlKGV2ZW50LCBzbGljaywgZGlyZWN0aW9uKXtcbiAgICAgICAgY29uc3QgY3VycmVudCA9ICQodGhpcykuZmluZCgnLnNsaWNrLXNsaWRlLnNsaWNrLWFjdGl2ZScpO1xuICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5uZXh0KCk7XG4gICAgICAgIGNvbnN0IHByZXYgPSBjdXJyZW50LnByZXYoKTtcblxuICAgICAgICByZW1vdmVDbGFzc0luQXJyRWxlbWVudHMobmV4dCwgJ1tkYXRhLWFvc149ZmFkZV0nLCAnYW9zLWFuaW1hdGUnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3NJbkFyckVsZW1lbnRzKHByZXYsICdbZGF0YS1hb3NePWZhZGVdJywgJ2Fvcy1hbmltYXRlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU2xpY2tGb3JCZWZvcmVDaGFuZ2UoZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSl7XG4gICAgICAgIGNvbnN0IGFsbFNsaWRlcyA9ICQodGhpcykuZmluZCgnLnNsaWNrLXNsaWRlJyk7XG5cbiAgICAgICAgcmVtb3ZlQ2xhc3NJbkFyckVsZW1lbnRzKGFsbFNsaWRlcywgJ1tkYXRhLWFvc149ZmFkZV0nLCAnYW9zLWFuaW1hdGUnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTbGlja0ZvckFmdGVyQ2hhbmdlKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSAkKHRoaXMpLmZpbmQoJy5zbGljay1zbGlkZS5zbGljay1hY3RpdmUnKTtcblxuICAgICAgICBhZGRDbGFzc0luQXJyRWxlbWVudHMoY3VycmVudCwgJ1tkYXRhLWFvc149ZmFkZV0nLCAnYW9zLWFuaW1hdGUnKTtcbiAgICB9XG5cbiAgICBpZiAoJHRpbWVyLmxlbmd0aCl7XG4gICAgICAgIGxldCB0aW1lcjEgPSBtYWtlQ291bnRlcjtcbiAgICAgICAgbGV0IHRpbWVyMiA9IG1ha2VDb3VudGVyO1xuICAgICAgICBsZXQgdGltZXIzID0gbWFrZUNvdW50ZXI7XG5cbiAgICAgICAgdGltZXIxKCQoJ1tkYXRhLXRpbWVyLWRpc3BsYXk9XCIxXCJdJyksIDEsIHRpbWVyMSk7XG4gICAgICAgIHRpbWVyMigkKCdbZGF0YS10aW1lci1kaXNwbGF5PVwiMlwiXScpLCAxMjAsIHRpbWVyMik7XG4gICAgICAgIHRpbWVyMygkKCdbZGF0YS10aW1lci1kaXNwbGF5PVwiM1wiXScpLCA3MywgdGltZXIzKTtcbiAgICB9XG5cbiAgICBpZiAoJGFjY29yZGlvbi5sZW5ndGgpIHtcbiAgICAgICAgJGFjY29yZGlvbi5hZGRDbGFzcygnaGlkZGVuJykuZmluZCgnLmFjY29yZGlvbl9fYm9keScpLmhpZGUoKTtcblxuICAgICAgICAkYWNjb3JkaW9uLm9uKCdjbGljaycsICcuYWNjb3JkaW9uX19oZWFkZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0ICRjbG9zZXN0ID0gc2VsZi5jbG9zZXN0KCcuYWNjb3JkaW9uJyk7XG4gICAgICAgICAgICBjb25zdCAkYWNjQm9keSA9ICRjbG9zZXN0LmZpbmQoJy5hY2NvcmRpb25fX2JvZHknKTtcblxuICAgICAgICAgICAgaWYgKCEkY2xvc2VzdC5oYXNDbGFzcygnaGlkZGVuJykpIHtcbiAgICAgICAgICAgICAgICAkY2xvc2VzdC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQW5pbWF0ZSgkYWNjQm9keSwgXCJoaWRlXCIsIDI1MCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRjbG9zZXN0LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVBbmltYXRlKCRhY2NCb2R5LCBcInNob3dcIiwgMjUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRsZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICAkbGV0dGVycy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxmID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgaWYgKCFzZWxmLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkQ2xhc3MoJ29wZW5lZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHN2ZyBwb2x5ZmlsbCBmb3Igb2xkIGJyb3dzZXJzXG4gICAgc3ZnNGV2ZXJ5Ym9keSgpO1xuXG4gICAgLy8gUFdBIGluaXRcbiAgICAvLyBjb25kaXRpb25QV0EoKTtcblxuICAgIGZ1bmN0aW9uIG1ha2VDb3VudGVyIChlbGVtLCB0aW1lLCBpbnRlcnZhbElkKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gdGltZXIoc2Vjb25kcykge1xuICAgICAgICAgICAgLy8gY2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyc1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblxuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHRoZW4gPSBub3cgKyBzZWNvbmRzICogMTAwMDtcbiAgICAgICAgICAgIGRpc3BsYXlUaW1lTGVmdChzZWNvbmRzKTtcblxuICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzTGVmdCA9IE1hdGgucm91bmQoKHRoZW4gLSBEYXRlLm5vdygpKSAvIDEwMDApO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIHNob3VsZCBzdG9wIGl0IVxuICAgICAgICAgICAgICAgIGlmKHNlY29uZHNMZWZ0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgaXRcbiAgICAgICAgICAgICAgICBkaXNwbGF5VGltZUxlZnQoc2Vjb25kc0xlZnQpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkaXNwbGF5VGltZUxlZnQoc2Vjb25kcyl7XG4gICAgICAgICAgICBjb25zdCBob3VycyA9IChNYXRoLmZsb29yKHNlY29uZHMvMzYwMCkgPCAxMCA/IFwiMFwiIDogXCJcIikgKyBNYXRoLmZsb29yKHNlY29uZHMvMzYwMCk7XG4gICAgICAgICAgICBjb25zdCBtaW51dGVzID0gKChNYXRoLmZsb29yKHNlY29uZHMvNjApICUgNjApIDwgMTAgPyBcIjBcIiA6IFwiXCIpICsgTWF0aC5mbG9vcihzZWNvbmRzLzYwKSAlIDYwO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluZGVyU2Vjb25kcyA9IHNlY29uZHMgJSA2MDtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXkgPSBgJHtob3Vyc306JHttaW51dGVzfToke3JlbWFpbmRlclNlY29uZHMgPCAxMCA/ICcwJyA6ICcnIH0ke3JlbWFpbmRlclNlY29uZHN9YDtgYDtcblxuICAgICAgICAgICAgZWxlbS50ZXh0KGRpc3BsYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRUaW1lcigpIHtcbiAgICAgICAgICAgIGxldCBzZWNvbmRzID0gdGltZSAqIDYwO1xuICAgICAgICAgICAgdGltZXIoc2Vjb25kcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydFRpbWVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY291bnRlcigpIHtcbiAgICAgICAgJGNvdW50ZXJzLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgICAgICBjb25zdCBjaXJjbGUgPSAkKGVsZW0pLmZpbmQoJy5jb3VudGVyX19jaXJjbGUtdmFsdWUnKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2lyY2xlLmF0dHIoJ3N0cm9rZS1kYXNob2Zmc2V0JywgMCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAkKGVsZW0pLmZpbmQoJy5jb3VudGVyX19vdXRwdXQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ0NvdW50ZXInLCAwKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgQ291bnRlcjogJCh0aGlzKS50ZXh0KClcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdzd2luZycsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uIChub3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dChNYXRoLmNlaWwobm93KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhY2NlbnQoKSB7XG4gICAgICAgIGNvbnN0ICRjaXJjbGUgPSAkYWNjZW50LmZpbmQoJy5jb3VudGVyX19jaXJjbGUtdmFsdWUnKTtcbiAgICAgICAgY29uc3QgJHZhbHVlID0gJGFjY2VudC5maW5kKCcuY291bnRlcl9fb3V0cHV0Jyk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkY2lyY2xlLmF0dHIoJ3N0cm9rZS1kYXNob2Zmc2V0JywgMCk7XG4gICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgJHZhbHVlLnByb3AoJ0NvdW50ZXInLCAwKS5hbmltYXRlKHtcbiAgICAgICAgICAgIENvdW50ZXI6ICQodGhpcykudGV4dCgpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLFxuICAgICAgICAgICAgZWFzaW5nOiAnc3dpbmcnLFxuICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24gKG5vdykge1xuICAgICAgICAgICAgICAgICQodGhpcykudGV4dChNYXRoLmNlaWwobm93KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGYsIG1zKSB7XG5cbiAgICAgICAgbGV0IGlzQ29vbERvd24gPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlzQ29vbERvd24pIHJldHVybjtcblxuICAgICAgICAgICAgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBpc0Nvb2xEb3duID0gdHJ1ZTtcblxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBpc0Nvb2xEb3duID0gZmFsc2UsIG1zKTtcbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFuaW1hdGUoZWxlbSwgcGFyYW0sIHNwZWVkKSB7XG4gICAgICAgIGVsZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICBvcGFjaXR5OiBwYXJhbSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyYW1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZHVyYXRpb246IHNwZWVkIHx8IDUwMCxcbiAgICAgICAgICAgIHNwZWNpYWxFYXNpbmc6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAnbGluZWFyJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICdzd2luZydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25kaXRpb25QV0EoKSB7XG4gICAgICAgIGlmIChuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1BXQSBCdWlsZGVyXSBhY3RpdmUgc2VydmljZSB3b3JrZXIgZm91bmQsIG5vIG5lZWQgdG8gcmVnaXN0ZXInKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ2pzL3N3LmpzJywge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAnLi8nXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZWcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZSB3b3JrZXIgaGFzIGJlZW4gcmVnaXN0ZXJlZCBmb3Igc2NvcGU6JyArIHJlZy5zY29wZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZENsYXNzVG9Cb2R5KGVsZW0sIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWxlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRib2R5LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzc0Zyb21Cb2R5KGVsZW0sIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWxlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRib2R5LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKGpRdWVyeSk7Il19
